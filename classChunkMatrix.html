<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Roguelike: ChunkMatrix Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Roguelike
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classChunkMatrix-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ChunkMatrix Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a69ea404b853e1966228b9bac17ab546f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a69ea404b853e1966228b9bac17ab546f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ChunkMatrix</b> (int _diameter, <a class="el" href="classIntPoint.html">IntPoint</a> center_chunk, MapTileMatrix &amp;world_map)</td></tr>
<tr class="memitem:a08b2fa45b2a88c32bc9dbf489c155850"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChunkMatrix.html#a08b2fa45b2a88c32bc9dbf489c155850">pretty_print</a> ()</td></tr>
<tr class="memitem:a051b793faf64da86b0509b031ec539b1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChunkMatrix.html#a051b793faf64da86b0509b031ec539b1">out_of_bounds</a> (<a class="el" href="classIntPoint.html">IntPoint</a> local_chunk_point)</td></tr>
<tr class="memitem:a92305d3b91f13274311690ab28a9569f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classIntPoint.html">IntPoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChunkMatrix.html#a92305d3b91f13274311690ab28a9569f">get_offset</a> ()</td></tr>
<tr class="memitem:ae20250923d8c8b2cfa95ddb6d312e84d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChunkMatrix.html#ae20250923d8c8b2cfa95ddb6d312e84d">set_offset</a> (<a class="el" href="classIntPoint.html">IntPoint</a> point)</td></tr>
<tr class="memitem:ab27e3b15f4a0edc3e58721ed6a022082"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classChunk.html">Chunk</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChunkMatrix.html#ab27e3b15f4a0edc3e58721ed6a022082">get_chunk_abs</a> (<a class="el" href="classIntPoint.html">IntPoint</a> abs_chunk_loc)</td></tr>
<tr class="memitem:ada98db881abfd9bfe388349b1449cc71"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classChunk.html">Chunk</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChunkMatrix.html#ada98db881abfd9bfe388349b1449cc71">get_chunk_abs</a> (int row, int col)</td></tr>
<tr class="memitem:a935f438dd7f815359f0d039076e69447"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classChunk.html">Chunk</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChunkMatrix.html#a935f438dd7f815359f0d039076e69447">get_center_chunk</a> ()</td></tr>
<tr class="memitem:adfb9313be09e7c278165ac02f13d1803"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChunkMatrix.html#adfb9313be09e7c278165ac02f13d1803">shift_matrix</a> (<a class="el" href="classIntPoint.html">IntPoint</a> directions, MapTileMatrix &amp;world_map)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:ac8a5ca8afbd12a335f7e34dda429f258"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac8a5ca8afbd12a335f7e34dda429f258"></a>
typedef std::vector<br class="typebreak"/>
&lt; std::vector&lt; <a class="el" href="structMapTile.html">MapTile</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>MapTileMatrix</b></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a2a190ceabdfc94c11c1d2c6025cffa3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChunkMatrix.html#a2a190ceabdfc94c11c1d2c6025cffa3d">populate_initial</a> (<a class="el" href="classIntPoint.html">IntPoint</a> center_chunk, MapTileMatrix &amp;world_map)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ac78b34250b5ad371bcd39dcc1154b069"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChunkMatrix.html#ac78b34250b5ad371bcd39dcc1154b069">diameter</a></td></tr>
<tr class="memitem:abc253f81e9e359f8ae208098765a4e8c"><td class="memItemLeft" align="right" valign="top">vector&lt; vector&lt; <a class="el" href="classChunk.html">Chunk</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChunkMatrix.html#abc253f81e9e359f8ae208098765a4e8c">model</a></td></tr>
<tr class="memitem:a18fb175e96624fa8c844679a3f54c8b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classIntPoint.html">IntPoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChunkMatrix.html#a18fb175e96624fa8c844679a3f54c8b7">offset</a></td></tr>
</table>
<h2>Member Function Documentation</h2>
<a class="anchor" id="a935f438dd7f815359f0d039076e69447"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classChunk.html">Chunk</a> * ChunkMatrix::get_center_chunk </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TODO update more code to use this instead of get_chunk_abs(main_char.get_y(), main_char.get_x()) </p>
<dl class="section return"><dt>Returns</dt><dd>the central chunk in the model. </dd></dl>

</div>
</div>
<a class="anchor" id="ab27e3b15f4a0edc3e58721ed6a022082"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classChunk.html">Chunk</a> * ChunkMatrix::get_chunk_abs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classIntPoint.html">IntPoint</a>&#160;</td>
          <td class="paramname"><em>abs_chunk_loc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">abs_chunk_loc</td><td>the absolute chunk coordinates on the world map. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a reference to the chunk from the local buffer. </dd></dl>

</div>
</div>
<a class="anchor" id="ada98db881abfd9bfe388349b1449cc71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classChunk.html">Chunk</a> * ChunkMatrix::get_chunk_abs </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The same as the other get_chunk_abs, but with two ints instead of an <a class="el" href="classIntPoint.html">IntPoint</a>. </p>

</div>
</div>
<a class="anchor" id="a92305d3b91f13274311690ab28a9569f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classIntPoint.html">IntPoint</a> ChunkMatrix::get_offset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>an <a class="el" href="classIntPoint.html">IntPoint</a> representing the amount by which the top left corner of the <a class="el" href="classChunkMatrix.html">ChunkMatrix</a> is offset from the top left corner of the world. </dd></dl>

</div>
</div>
<a class="anchor" id="a051b793faf64da86b0509b031ec539b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChunkMatrix::out_of_bounds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classIntPoint.html">IntPoint</a>&#160;</td>
          <td class="paramname"><em>local_chunk_point</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines whether or not the given local coordinates on this small chunk map are out of bounds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">chunk_point</td><td>an <a class="el" href="classIntPoint.html">IntPoint</a> representing a chunk's location on the private "model" matrix. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the given point cannot lie on the chunk map. </dd></dl>

</div>
</div>
<a class="anchor" id="a2a190ceabdfc94c11c1d2c6025cffa3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ChunkMatrix::populate_initial </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classIntPoint.html">IntPoint</a>&#160;</td>
          <td class="paramname"><em>center_chunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MapTileMatrix &amp;&#160;</td>
          <td class="paramname"><em>world_map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Populates the chunk matrix initially, affecting the internal model. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">center_chunk</td><td>An <a class="el" href="classIntPoint.html">IntPoint</a> representing the central chunk in the matrix </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">world_map</td><td>The world map, passed by reference here to avoid copying. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a08b2fa45b2a88c32bc9dbf489c155850"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChunkMatrix::pretty_print </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints a graphic of the chunk matrix and its coordinates. </p>

</div>
</div>
<a class="anchor" id="ae20250923d8c8b2cfa95ddb6d312e84d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChunkMatrix::set_offset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classIntPoint.html">IntPoint</a>&#160;</td>
          <td class="paramname"><em>point</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the offset (amount by which the top left corner of the <a class="el" href="classChunkMatrix.html">ChunkMatrix</a> differs from the world's top left corner). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">point</td><td>a point representing a location on the world map. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adfb9313be09e7c278165ac02f13d1803"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChunkMatrix::shift_matrix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classIntPoint.html">IntPoint</a>&#160;</td>
          <td class="paramname"><em>directions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MapTileMatrix &amp;&#160;</td>
          <td class="paramname"><em>world_map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Shifts the contents of the chunk matrix.</p>
<p>Will shift the chunk buffer around on the world map, agnostic of the chunk buffer diameter. The concept of the chunk buffer is shown below. Periods are unloaded chunks on the world map, and x's are chunks within the chunk buffer (so, they are loaded). The buffer will move around, loading and unloading chunks as needed. Serialization and deserialization should all be handled in this function and the functions that it causes.</p>
<p>. . . . . . . . . . . . . . x x x . . . x x x . . . x x x . . . . . . .</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">directions</td><td>an <a class="el" href="classIntPoint.html">IntPoint</a> representing the direction to shift the matrix: (1, 0) means one chunk to the right; (-1, -1) means one chunk to the left and one chunk up; (0, -1) means 1 chunk up, etc. </td></tr>
    <tr><td class="paramname">world_map</td><td>a reference to the world map. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2>Member Data Documentation</h2>
<a class="anchor" id="ac78b34250b5ad371bcd39dcc1154b069"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ChunkMatrix::diameter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The diameter of this matrix. </p>

</div>
</div>
<a class="anchor" id="abc253f81e9e359f8ae208098765a4e8c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;vector&lt;<a class="el" href="classChunk.html">Chunk</a>&gt; &gt; ChunkMatrix::model</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The base model where chunks are stored in a (diameter)*(diameter) two-dimensional vector. </p>

</div>
</div>
<a class="anchor" id="a18fb175e96624fa8c844679a3f54c8b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classIntPoint.html">IntPoint</a> ChunkMatrix::offset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The amount by which the top left corner of the matrix is offset from the world. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/world/<a class="el" href="chunk__matrix_8h_source.html">chunk_matrix.h</a></li>
<li>src/world/chunk_matrix.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 11 2014 19:02:38 for Roguelike by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
